import { describe, expect, it } from 'vitest'
import { ceilManHour } from './ceilManHour.mjs'

describe('ceilManHour()', () => {
  describe('step = 0.1', () => {
    it.each`
      given   | expected
      ${0}    | ${0}
      ${0.01} | ${0.1}
      ${0.1}  | ${0.1}
      ${0.18} | ${0.2}
      ${0.2}  | ${0.2}
      ${0.22} | ${0.3}
      ${0.25} | ${0.3}
      ${0.26} | ${0.3}
      ${0.3}  | ${0.3}
      ${0.5}  | ${0.5}
      ${0.51} | ${0.6}
      ${0.55} | ${0.6}
      ${0.56} | ${0.6}
      ${0.6}  | ${0.6}
      ${0.75} | ${0.8}
      ${0.8}  | ${0.8}
      ${1}    | ${1.0}
      ${1.2}  | ${1.2}
      ${1.25} | ${1.3}
      ${1.3}  | ${1.3}
      ${1.5}  | ${1.5}
      ${1.55} | ${1.6}
      ${1.6}  | ${1.6}
      ${1.75} | ${1.8}
      ${1.8}  | ${1.8}
      ${2}    | ${2.0}
    `('$given -> $expected', ({ given, expected }: { given: number; expected: number }) => {
      expect(ceilManHour(given, 0.1)).toBe(expected)
    })
  })

  describe('step = 0.5', () => {
    it.each`
      given   | expected
      ${0}    | ${0}
      ${0.01} | ${0.5}
      ${0.1}  | ${0.5}
      ${0.18} | ${0.5}
      ${0.2}  | ${0.5}
      ${0.22} | ${0.5}
      ${0.25} | ${0.5}
      ${0.26} | ${0.5}
      ${0.3}  | ${0.5}
      ${0.5}  | ${0.5}
      ${0.51} | ${1}
      ${0.55} | ${1}
      ${0.56} | ${1}
      ${0.6}  | ${1}
      ${0.75} | ${1}
      ${0.8}  | ${1}
      ${1}    | ${1}
      ${1.2}  | ${1.5}
      ${1.25} | ${1.5}
      ${1.3}  | ${1.5}
      ${1.5}  | ${1.5}
      ${1.55} | ${2}
      ${1.6}  | ${2}
      ${1.75} | ${2}
      ${1.8}  | ${2}
      ${2}    | ${2}
    `('$given -> $expected', ({ given, expected }: { given: number; expected: number }) => {
      expect(ceilManHour(given, 0.5)).toBe(expected)
    })
  })

  describe('step = 1', () => {
    it.each`
      given   | expected
      ${0}    | ${0}
      ${0.01} | ${1}
      ${0.1}  | ${1}
      ${0.18} | ${1}
      ${0.2}  | ${1}
      ${0.22} | ${1}
      ${0.25} | ${1}
      ${0.26} | ${1}
      ${0.3}  | ${1}
      ${0.5}  | ${1}
      ${0.51} | ${1}
      ${0.55} | ${1}
      ${0.56} | ${1}
      ${0.6}  | ${1}
      ${0.75} | ${1}
      ${0.8}  | ${1}
      ${1}    | ${1}
      ${1.2}  | ${2}
      ${1.25} | ${2}
      ${1.3}  | ${2}
      ${1.5}  | ${2}
      ${1.55} | ${2}
      ${1.6}  | ${2}
      ${1.75} | ${2}
      ${1.8}  | ${2}
      ${2}    | ${2}
    `('$given -> $expected', ({ given, expected }: { given: number; expected: number }) => {
      expect(ceilManHour(given, 1)).toBe(expected)
    })
  })
})
